C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MENUEVENT
OBJECT MODULE PLACED IN MenuEvent.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE MenuEvent.c LARGE OPTIMIZE(6,SPEED) BROWSE INCDIR(G:\CB589P) DEBUG OBJECTEX
                    -TEND TABS(2)

line level    source

   1          #include "system.h"
   2          #include "MenuEvent.h"
   3          #include "lcdset.h"
   4          #include "lcdshow.h"
   5          #include "handler.h"
   6          #include "Menu.h"
   7          #include "BK4802.h"
   8          #include "memory.h"
   9          #include "vco.h"
  10          
  11          
  12          
  13          
  14          /***************************************修改记录*****************************************************
  15           Function List：
  16              1、checkChannel        切换信道时对国家信道，信道最小、最大值进行判断
  17              2、MenuFuc             菜单按键执行内容
  18           Change Log:
  19          
  20          
  21          
  22          ****************************************************************************************************/
  23          
  24          void checkChannel()
  25          {
  26   1        mSysParam.MinChannel = 1;
  27   1        switch(mCbParam.Country)
  28   1        {
  29   2          case COUNTRY_EU: mSysParam.MaxChannel = 40;mCbParam.Band=0;mSysParam.isUK=0;break;
  30   2          case COUNTRY_CE: mSysParam.MaxChannel = 40;mCbParam.Band=0;mSysParam.isUK=0;break;
  31   2          case COUNTRY_UK: mSysParam.MaxChannel = 40;mCbParam.Band=0;mSysParam.isUK=1;break;
  32   2          case COUNTRY_PL: mSysParam.MaxChannel = 40;mCbParam.Band=0;mSysParam.isUK=0;break;
  33   2          case COUNTRY_I0: mSysParam.MaxChannel = 40;mCbParam.Band=0;mSysParam.isUK=0;break;    
  34   2          
  35   2          case COUNTRY_RU:
  36   2            {   
  37   3              if(mCbParam.Band>9) mCbParam.Band=0;
  38   3              mSysParam.MaxChannel = 40;
  39   3              mSysParam.isUK=0;
  40   3            }
  41   2            break;
  42   2          
  43   2          case COUNTRY_I2: mSysParam.MaxChannel = 34;mCbParam.Band=0;mSysParam.isUK=0;break;
  44   2          case COUNTRY_DE: mSysParam.MaxChannel = 80;mCbParam.Band=0;mSysParam.isUK=0;break;
  45   2          case COUNTRY_IN: mSysParam.MaxChannel = 27;mCbParam.Band=0;mSysParam.isUK=0;break;
  46   2          case COUNTRY_HX: 
  47   2            if(mCbParam.Band>8) mCbParam.Band=0;
  48   2            if(mCbParam.Band==8) mSysParam.MaxChannel = 20;
  49   2            else mSysParam.MaxChannel = 40;
  50   2            mSysParam.isUK=0;
  51   2            break;
  52   2        }
  53   1        if(mCbParam.Country==COUNTRY_DE&&mCbParam.Modu==AM)   mSysParam.MaxChannel=80;  
  54   1        else if((mCbParam.Country==COUNTRY_DE&&mCbParam.Modu==FM)) mSysParam.MaxChannel=80;
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 2   

  55   1        
  56   1      }
  57          /*-------------------------------------------------------------------------
  58          *函数：CHANNEL_TXPOWER_CHANGE_FUC  功率切换
  59          *参数：无  
  60          *返回值：无
  61          *-------------------------------------------------------------------------*/
  62          void CHANNEL_TXPOWER_CHANGE_FUC()
  63          {
  64   1        if(mCbParam.TxPower==POWER_LOW) mCbParam.TxPower=POWER_HIGH;
  65   1        else mCbParam.TxPower=POWER_LOW;
  66   1        saveData(EEP_POWER,mCbParam.TxPower);
  67   1        ShowPower();
  68   1      }
  69          
  70          
  71          /*-------------------------------------------------------------------------
  72          *函数：CHANNEL_LONG_SQ_FUC  SQ/ASQ切换
  73          *参数：无  
  74          *返回值：无
  75          *-------------------------------------------------------------------------*/  
  76          void CHANNEL_LONG_SQ_FUC()
  77          {
  78   1        if(mSqParam.IsAsq==1)mSqParam.IsAsq=0;
  79   1        else  mSqParam.IsAsq=1; 
  80   1        saveData(EEP_IS_ASQ,mSqParam.IsAsq);
  81   1        ShowChannel();
  82   1      }
  83          /*-------------------------------------------------------------------------
  84          *函数：CHANNEL_UP_FUC  信道加
  85          *参数：无  
  86          *返回值：无
  87          *-------------------------------------------------------------------------*/  
  88          void CHANNEL_UP_FUC()
  89          {
  90   1        checkChannel();
  91   1        if(mCbParam.Channel<mSysParam.MaxChannel)
  92   1        {
  93   2          mCbParam.Channel++;
  94   2        }
  95   1        else    
  96   1        {
  97   2          
  98   2          if(mCbParam.Country==COUNTRY_DE&&mCbParam.Modu==AM)
  99   2          {
 100   3            mSysParam.MaxChannel=80;
 101   3            mCbParam.Channel=41;
 102   3            mCbParam.Modu=FM;
 103   3          }
 104   2          else
 105   2          {
 106   3      //      if(mCbParam.Country==COUNTRY_RU)
 107   3      //      {
 108   3      //        if(mCbParam.Band<9)mCbParam.Band++;
 109   3      //        else mCbParam.Band=0;
 110   3      //      }     
 111   3            mCbParam.Channel=mSysParam.MinChannel;      
 112   3          }
 113   2        }
 114   1        if(mMenu.emgIndex!=0)mMenu.emgIndex=0;
 115   1        saveData(EEP_CHANNEL,mCbParam.Channel); 
 116   1        mMenu.emgIndex=0;
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 3   

 117   1        mSysParam.isLastChannel=0;  
 118   1        mSysParam.LastChannel=mCbParam.Channel; 
 119   1        mSysParam.LastBand=mCbParam.Band;
 120   1        SetTxPower();
 121   1        ShowChannel();
 122   1        calculateFreq();              //计算频率  
 123   1        BK4802_TXtoRX();
 124   1      
 125   1      }
 126          /*-------------------------------------------------------------------------
 127          *函数：CHANNEL_DN_FUC  信道减
 128          *参数：无  
 129          *返回值：无
 130          *-------------------------------------------------------------------------*/  
 131          void CHANNEL_DN_FUC()
 132          {
 133   1        checkChannel();
 134   1        if(mCbParam.Channel>mSysParam.MinChannel)
 135   1        {
 136   2          mCbParam.Channel--;
 137   2        }
 138   1        else 
 139   1        {
 140   2          
 141   2      //      if(mCbParam.Country==COUNTRY_RU)
 142   2      //      {
 143   2      //        if(mCbParam.Band>0)mCbParam.Band--;
 144   2      //        else mCbParam.Band=9;
 145   2      //        mCbParam.Channel=mSysParam.MaxChannel;
 146   2      //      }
 147   2            if(mCbParam.Country==COUNTRY_DE&&mCbParam.Modu==AM)mCbParam.Modu=FM ; 
 148   2            mCbParam.Channel=mSysParam.MaxChannel;      
 149   2        }
 150   1        mMenu.emgIndex=0;
 151   1        mSysParam.isLastChannel=0;  
 152   1        mSysParam.LastChannel=mCbParam.Channel; 
 153   1        mSysParam.LastBand=mCbParam.Band;
 154   1        
 155   1        saveData(EEP_CHANNEL,mCbParam.Channel); 
 156   1        SetTxPower();
 157   1        ShowChannel();
 158   1        calculateFreq();              //计算频率  
 159   1        BK4802_TXtoRX();
 160   1      }
 161          /*-------------------------------------------------------------------------
 162          *函数：CHANNEL_SCAN_FUC  扫描模式
 163          *参数：无  
 164          *返回值：无
 165          *-------------------------------------------------------------------------*/  
 166          void CHANNEL_SCAN_FUC()
 167          {
 168   1        mSqParam.Scan = 1;
 169   1        LCD_SC(1);
 170   1      }
 171          
 172          /*-------------------------------------------------------------------------
 173          *函数：CHANNEL_VOX_FUC  VOX的关闭开启
 174          *参数：无  
 175          *返回值：无
 176          *-------------------------------------------------------------------------*/  
 177          void CHANNEL_VOX_FUC()
 178          {
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 4   

 179   1        if(mSqParam.IsVox==1)
 180   1        {
 181   2          mSqParam.IsVox=0;
 182   2        }
 183   1        else 
 184   1        {
 185   2          mSqParam.IsVox=1;
 186   2        }
 187   1        saveData(EEP_IS_VOX,mSqParam.IsVox);
 188   1        ShowChannel();
 189   1      }
 190          /*-------------------------------------------------------------------------
 191          *函数：CHANNEL_PTY_FUC  紧急信道
 192          *参数：无  
 193          *返回值：无
 194          *-------------------------------------------------------------------------*/  
 195          void CHANNEL_PTY_FUC()
 196          {
 197   1        switch(mMenu.emgIndex)
 198   1        {
 199   2          case 0:
 200   2                
 201   2            mMenu.emgIndex++;
 202   2            mCbParam.forEMGChannel=mCbParam.Channel;
 203   2            mCbParam.Channel=9;     
 204   2            break;
 205   2          case 1:mMenu.emgIndex++;      
 206   2            mCbParam.Channel=19;
 207   2           
 208   2            break;
 209   2          case 2:mMenu.emgIndex=0;    
 210   2            mCbParam.Channel=mCbParam.forEMGChannel;
 211   2          break;
 212   2        }
 213   1        SetTxPower();
 214   1        ShowChannel();
 215   1        calculateFreq();              //计算频率
 216   1      }
 217          /*-------------------------------------------------------------------------
 218          *函数：CHANNEL_AFM_FUC  AM/FM切换
 219          *参数：无  
 220          *返回值：无
 221          *-------------------------------------------------------------------------*/  
 222          void CHANNEL_AFM_FUC()
 223          {
 224   1        if(mCbParam.Country==COUNTRY_EU||               \
 225   1           mCbParam.Country==COUNTRY_PL||               \
 226   1           mCbParam.Country==COUNTRY_I0||               \
 227   1           mCbParam.Country==COUNTRY_I2||               \
 228   1           (mCbParam.Country==COUNTRY_DE&&mCbParam.Channel<41)||               \
 229   1           mCbParam.Country==COUNTRY_IN||               \
 230   1           mCbParam.Country==COUNTRY_RU||               \
 231   1           mCbParam.Country==COUNTRY_HX               \                   
 232   1          )
 233   1        {
 234   2          if(mCbParam.Modu==FM) mCbParam.Modu=AM;
 235   2          else mCbParam.Modu=FM;  
 236   2        }
 237   1        else
 238   1        {   
 239   2          if(mSysParam.isLastChannel==0)
 240   2          {
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 5   

 241   3            if(mCbParam.Channel==mCbParam.LastChannel&& mCbParam.Band==mCbParam.LastBand)
 242   3            {
 243   4              mCbParam.Channel=mSysParam.BackChannel;
 244   4              mCbParam.Band=mSysParam.BackBand;       
 245   4              mMenu.emgIndex=0;
 246   4              mSysParam.isLastChannel=2;  
 247   4            }
 248   3            else
 249   3            {
 250   4              mSysParam.LastChannel=mCbParam.Channel;
 251   4              mSysParam.LastBand=mCbParam.Band; 
 252   4              mCbParam.Channel=mCbParam.LastChannel;
 253   4              mCbParam.Band=mCbParam.LastBand;
 254   4              mMenu.emgIndex=0;
 255   4              mSysParam.isLastChannel=1;
 256   4            }
 257   3          }
 258   2          else if(mSysParam.isLastChannel==1)
 259   2          {
 260   3            mCbParam.Channel=mSysParam.LastChannel;
 261   3            mCbParam.Band=mSysParam.LastBand;     
 262   3            mMenu.emgIndex=0; 
 263   3            mSysParam.isLastChannel=0;    
 264   3          }
 265   2          else if(mSysParam.isLastChannel==2)
 266   2          {
 267   3            mCbParam.Channel=mCbParam.LastChannel;
 268   3            mCbParam.Band=mCbParam.LastBand;
 269   3            mMenu.emgIndex=0;
 270   3            mSysParam.isLastChannel=0;
 271   3          }
 272   2        }
 273   1        saveData(EEP_MODU,mCbParam.Modu); 
 274   1        SetModu();
 275   1        calculateFreq();  
 276   1        BK4802_TXtoRX();    
 277   1        SetTxPower();
 278   1        ShowChannel();
 279   1      }
 280          
 281          /*-------------------------------------------------------------------------
 282          *函数：CHANNEL_LONG_AF_FUC  长按回到CE频段
 283          *参数：无  
 284          *返回值：无
 285          *-------------------------------------------------------------------------*/
 286          void CHANNEL_LONG_AF_FUC()
 287          {
 288   1        u8 oldchannel=0;
 289   1        if(mCbParam.Country==COUNTRY_UK)
 290   1        {
 291   2          playButtonTone();
 292   2          mCbParam.Country=COUNTRY_CE;
 293   2          oldchannel=mCbParam.Channel;
 294   2          mCbParam.Channel=9; 
 295   2          ShowClear();
 296   2          ShowCountry();
 297   2          delayms(1000);  
 298   2          mSysParam.isUK=1; 
 299   2          calculateFreq();  
 300   2          BK4802_TXtoRX();    
 301   2          SetTxPower();
 302   2          ShowChannel();    
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 6   

 303   2        }
 304   1        else if(mCbParam.Country==COUNTRY_CE&&mSysParam.isUK==1)
 305   1        {
 306   2          playButtonTone();
 307   2          mCbParam.Country=COUNTRY_UK;
 308   2          oldchannel=mCbParam.Channel;
 309   2          mCbParam.Channel=9; 
 310   2          mSysParam.isUK=0; 
 311   2          ShowClear();
 312   2          ShowCountry();
 313   2          delayms(1000);
 314   2          calculateFreq();  
 315   2          BK4802_TXtoRX();    
 316   2          SetTxPower();       
 317   2          ShowChannel();      
 318   2        }
 319   1      }
 320          /*-------------------------------------------------------------------------
 321          *函数：CHANNEL_PPT_DN_FUC  发射
 322          *参数：无  
 323          *返回值：无
 324          *-------------------------------------------------------------------------*/  
 325          void CHANNEL_PPT_DN_FUC()
 326          {
 327   1        if(mMenu.isTx==0)
 328   1        {
 329   2          mMenu.isTx=1;
 330   2          calculateFreq();
 331   2          BK4802_RXtoTX();
 332   2          //RX_P=0;
 333   2          mSysParam.isLastChannel=0;
 334   2          mSysParam.BackChannel=mCbParam.LastChannel;
 335   2          mSysParam.BackBand=mCbParam.LastBand;
 336   2          mCbParam.LastChannel=mCbParam.Channel;
 337   2          mCbParam.LastBand=mCbParam.Band;
 338   2          if(mSqParam.Scan==2) mSqParam.ScanHould=2;
 339   2          if(mCbParam.TxPower==POWER_HIGH)
 340   2          {
 341   3            LCD_STRENGTH(6);
 342   3          }
 343   2          else
 344   2          {
 345   3            LCD_STRENGTH(3);
 346   3          }
 347   2          LCD_RX(0);
 348   2          LCD_TX(1);
 349   2        }
 350   1      }
 351          /*-------------------------------------------------------------------------
 352          *函数：CHANNEL_PPT_UP_FUC  停止发射
 353          *参数：无  
 354          *返回值：无
 355          *-------------------------------------------------------------------------*/  
 356          void CHANNEL_PPT_UP_FUC()
 357          {
 358   1        mMenu.isTx=0;
 359   1        calculateFreq();  
 360   1        RX_P=1;
 361   1        BK4802_TXtoRX();  
 362   1        LCD_STRENGTH(0);
 363   1        LCD_TX(0);
 364   1        LCD_RX(1);
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 7   

 365   1      }
 366            
 367          /*-------------------------------------------------------------------------
 368          *函数：CHANNEL_ASQ_FUC  进入ASQ调节
 369          *参数：无  
 370          *返回值：无
 371          *-------------------------------------------------------------------------*/
 372          void CHANNEL_ASQ_FUC()
 373          {
 374   1        ShowAsq();
 375   1      }
 376            /*-------------------------------------------------------------------------
 377          *函数：CHANNEL_ASQ_SQ_FUC  从ASQ调节返回信道
 378          *参数：无  
 379          *返回值：无
 380          *-------------------------------------------------------------------------*/  
 381          void CHANNEL_ASQ_SQ_FUC()
 382          {
 383   1        ShowChannel();
 384   1      }
 385            
 386          /*-------------------------------------------------------------------------
 387          *函数：CHANNEL_ASQ_UP_FUC  ASQ加
 388          *参数：无  
 389          *返回值：无
 390          *-------------------------------------------------------------------------*/  
 391          void CHANNEL_ASQ_UP_FUC()
 392          {
 393   1        if(mSqParam.AsqLevel<5)
 394   1        {
 395   2          mSqParam.AsqLevel++;
 396   2        }
 397   1        saveData(EEP_ASQ_LEVEL,mSqParam.AsqLevel);
 398   1        ShowAsq();
 399   1      }
 400          /*-------------------------------------------------------------------------
 401          *函数：CHANNEL_ASQ_DN_FUC  ASQ减
 402          *参数：无  
 403          *返回值：无
 404          *-------------------------------------------------------------------------*/  
 405          void CHANNEL_ASQ_DN_FUC()
 406          {
 407   1        if(mSqParam.AsqLevel>1)
 408   1        {
 409   2          mSqParam.AsqLevel--;
 410   2        }
 411   1        saveData(EEP_ASQ_LEVEL,mSqParam.AsqLevel);
 412   1        ShowAsq();
 413   1      }
 414          
 415          /*-------------------------------------------------------------------------
 416          *函数：CHANNEL_SCAN_LONG_PRESS_FUC  退出扫描
 417          *参数：无  
 418          *返回值：无
 419          *-------------------------------------------------------------------------*/  
 420          void CHANNEL_SCAN_LONG_PRESS_FUC()
 421          {
 422   1        LCD_SC(0);
 423   1      }
 424          /*-------------------------------------------------------------------------
 425          *函数：CHANNEL_SCAN_PPT_DN_FUC  扫描状态下发射
 426          *参数：无  
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 8   

 427          *返回值：无
 428          *-------------------------------------------------------------------------*/  
 429          void CHANNEL_SCAN_PPT_DN_FUC()
 430          {
 431   1        
 432   1      }
 433          /*-------------------------------------------------------------------------
 434          *函数：CHANNEL_SCAN_PPT_UP_FUC  扫状态下停止发射
 435          *参数：无  
 436          *返回值：无
 437          *-------------------------------------------------------------------------*/  
 438          void CHANNEL_SCAN_PPT_UP_FUC()
 439          {
 440   1      
 441   1      } 
 442            
 443          /*-------------------------------------------------------------------------
 444          *函数：CHANNEL_COUNTRY_UP_FUC  国家加
 445          *参数：无  
 446          *返回值：无
 447          *-------------------------------------------------------------------------*/  
 448          void CHANNEL_COUNTRY_UP_FUC()
 449          { 
 450   1        if(mCbParam.Country==COUNTRY_RU)
 451   1        {
 452   2          if(mCbParam.Band<9) mCbParam.Band++;
 453   2          else mCbParam.Band=0;
 454   2        }
 455   1        else if(mCbParam.Country==COUNTRY_HX)
 456   1        {
 457   2          if(mCbParam.Band<8) mCbParam.Band++;
 458   2          else mCbParam.Band=0;
 459   2        }
 460   1        else
 461   1        {
 462   2          if(mCbParam.Country<7)  mCbParam.Country++;
 463   2          else mCbParam.Country=0;
 464   2        }
 465   1        saveData(EEP_COUNTRY,mCbParam.Country);
 466   1        saveData(EEP_BAND,mCbParam.Band);   
 467   1        ShowCountry();
 468   1      }
 469          /*-------------------------------------------------------------------------
 470          *函数：CHANNEL_COUNTRY_DN_FUC  国家减
 471          *参数：无  
 472          *返回值：无
 473          *-------------------------------------------------------------------------*/  
 474          void CHANNEL_COUNTRY_DN_FUC()
 475          {
 476   1        if(mCbParam.Country==COUNTRY_RU)
 477   1        {
 478   2          if(mCbParam.Band>0) mCbParam.Band--;
 479   2          else mCbParam.Band=9;
 480   2        }
 481   1        else if(mCbParam.Country==COUNTRY_HX)
 482   1        {
 483   2          if(mCbParam.Band>0) mCbParam.Band--;
 484   2          else mCbParam.Band=8;
 485   2        }
 486   1        else
 487   1        {
 488   2          if(mCbParam.Country>0)  mCbParam.Country--;
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 9   

 489   2          else mCbParam.Country=7;
 490   2        } 
 491   1        saveData(EEP_COUNTRY,mCbParam.Country);
 492   1        saveData(EEP_BAND,mCbParam.Band);   
 493   1        ShowCountry();
 494   1      }
 495          /*-------------------------------------------------------------------------
 496          *函数：CHANNEL_REST_FUC  重启
 497          *参数：无  
 498          *返回值：无
 499          *-------------------------------------------------------------------------*/  
 500          void CHANNEL_REST_FUC()
 501          {
 502   1        mSysParam.rest=0;
 503   1      }
 504          /*-------------------------------------------------------------------------
 505          *函数：CHANNEL_SWITCH_TUTTONTONE_FUC  切换按键音
 506          *参数：无  
 507          *返回值：无
 508          *-------------------------------------------------------------------------*/
 509          void CHANNEL_SWITCH_TUTTONTONE_FUC()
 510          {
 511   1        if(mCbParam.ButtonToneSwitch==0)mCbParam.ButtonToneSwitch=1;
 512   1        else mCbParam.ButtonToneSwitch=0;
 513   1        ShowButtonToneSwitch();
 514   1        saveData(EEP_TONE_SW,mCbParam.ButtonToneSwitch);
 515   1        delayms(1000);
 516   1        ShowChannel();
 517   1      }
 518          
 519          /*-------------------------------------------------------------------------
 520          *函数：CHANNEL_BACKCOLOR_UP_FUC  切换背景颜色  加
 521          *参数：无  
 522          *返回值：无
 523          *-------------------------------------------------------------------------*/
 524          void CHANNEL_BACKCOLOR_UP_FUC()
 525          {
 526   1        if(mCbParam.LcdColor<7)mCbParam.LcdColor++;
 527   1        else mCbParam.LcdColor=0;
 528   1        ShowBackColor(1);
 529   1        saveData(EEP_LCD_COLOR,mCbParam.LcdColor);
 530   1      }
 531          /*-------------------------------------------------------------------------
 532          *函数：CHANNEL_BACKCOLOR_DN_FUC  切换背景颜色 减
 533          *参数：无  
 534          *返回值：无
 535          *-------------------------------------------------------------------------*/
 536          void CHANNEL_BACKCOLOR_DN_FUC()
 537          {
 538   1        if(mCbParam.LcdColor>0)mCbParam.LcdColor--;
 539   1        else mCbParam.LcdColor=7;
 540   1        ShowBackColor(1);
 541   1        saveData(EEP_LCD_COLOR,mCbParam.LcdColor);
 542   1      }
 543          
 544          /*-------------------------------------------------------------------------
 545          *函数：CHANNEL_LOCK_FUC  锁屏
 546          *参数：无  
 547          *返回值：无
 548          *-------------------------------------------------------------------------*/
 549          void CHANNEL_LOCK_FUC()
 550          {
C51 COMPILER V9.52.0.0   MENUEVENT                                                         06/02/2018 13:38:55 PAGE 10  

 551   1        ShowLocked();
 552   1        delayms(1000);
 553   1        ShowChannel();
 554   1      }
 555          /*-------------------------------------------------------------------------
 556          *函数：CHANNEL_LOCK_OTHERKEY_FUC  锁屏按其他键
 557          *参数：无  
 558          *返回值：无
 559          *-------------------------------------------------------------------------*/
 560          void CHANNEL_LOCK_OTHERKEY_FUC()
 561          {
 562   1        u8 i;
 563   1        for(i=0;i<3;i++)
 564   1        {
 565   2          ShowLocked();
 566   2          delayms(200);
 567   2          ClearNum();
 568   2          delayms(200);   
 569   2        } 
 570   1        ShowChannel();
 571   1      }
 572          /*-------------------------------------------------------------------------
 573          *函数：CHANNEL_DELOCK_FUC  解除锁屏
 574          *参数：无  
 575          *返回值：无
 576          *-------------------------------------------------------------------------*/
 577          void CHANNEL_DELOCK_FUC()
 578          {
 579   1        ShowDeLock();
 580   1        delayms(1000);
 581   1        ShowChannel();
 582   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1667    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       2
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
